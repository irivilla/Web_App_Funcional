<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contratar</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <link rel="stylesheet" type="text/css" href="../css/styleMaria.css">
    <script src="../javaScript/javaScript.js"></script>
</head>

<body>
    <header>
        <div class="container">
            <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom text-center">
                <a href="#">
                    <img class="logo" src="../images/logoPrimary.png" />
                </a>

            </header>
        </div>



    </header>

    <div class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom text-center">
        <form id="contratarForm" style="width: 26rem;">
            <!-- Name input -->
            <div data-mdb-input-init class="form-outline mb-4">
                <label class="form-label" for="name">Nombre Completo</label>
                <input type="text" id="name" class="form-control" />
            </div>

            <!-- Email input -->
            <div data-mdb-input-init class="form-outline mb-4">
                <label class="form-label" for="email">Correo Electronico</label>
                <input type="email" id="mail" class="form-control" />
            </div>

            <!-- Telephone input -->
            <div data-mdb-input-init class="form-outline mb-4">
                <label class="form-label" for="telephone">Telefono</label>
                <input type="text" id="tel" class="form-control" />
            </div>

            <!-- Dirección -->
            <div class="form-outline mb-4">
                <label class="form-label" for="address">Dirección</label>
                <input type="text" id="address" class="form-control" required />
            </div>

            <!-- Tipo de formulario -->
            <div class="form-outline mb-4">
                <label class="form-label" for="formType">Seleccione Seguro o Alarma</label>
                <select id="formType" class="form-select" required>
                    <option value="">Seleccione el tipo de formulario</option>
                    <option value="seguro">Solicitud de Seguro</option>
                    <option value="alarma">Solicitud de Alarma</option>
                </select>
            </div>

            <!-- Selector de tipo de seguro -->
            <div id="seguroFields" style="display: none;">
                <div class="form-outline mb-4">
                    <label class="form-label" for="insuranceType">Tipo de Seguro</label>
                    <select id="insuranceType" class="form-select" required>
                        <option value="">Seleccione el tipo de seguro</option>
                        <option value="auto">Seguro de Automóvil</option>
                        <option value="hogar">Seguro de Hogar</option>
                        <option value="vida">Seguro de Vida</option>
                    </select>
                </div>
            </div>

            <!-- Selector de tipo de alarma -->
            <div id="alarmaFields" style="display: none;">
                <div class="form-outline mb-4">
                    <label class="form-label" for="alarmType">Tipo de Alarma</label>
                    <select id="alarmType" class="form-select" required>
                        <option value="">Seleccione el tipo de alarma</option>
                        <option value="residencial">Alarma Residencial</option>
                        <option value="comercial">Alarma Comercial</option>
                    </select>
                </div>
            </div>

            <!-- Checkbox para aceptar términos y condiciones -->
            <div class="form-check mb-4">
                <input class="form-check-input" type="checkbox" value="" id="termsAndConditions" required />
                <label class="form-check-label" for="termsAndConditions">
                    Acepto los términos y condiciones
                </label>
            </div>

            <!-- Submit button -->
            <a href="#" id="submitBtn" class="btn btn-primary btn-block mb-4">Send</a>
        </form>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/NKXW183UZHchgAFc7E9TzhV8gAoHV3UwUw64o"
        crossorigin="anonymous"></script>

    <script src="../javaScript/contratar.js"></script>
    <script>
        document.getElementById('formType').addEventListener('change', function() {
            var selectedOption = this.value;

            // Mostrar el campo de seguro y ocultar el campo de alarma
            if (selectedOption === 'seguro') {
                document.getElementById('seguroFields').style.display = 'block';
                document.getElementById('alarmaFields').style.display = 'none';
            }
            // Mostrar el campo de alarma y ocultar el campo de seguro
            else if (selectedOption === 'alarma') {
                document.getElementById('seguroFields').style.display = 'none';
                document.getElementById('alarmaFields').style.display = 'block';
            }
            // Ocultar ambos campos si no se selecciona ninguna opción
            else {
                document.getElementById('seguroFields').style.display = 'none';
                document.getElementById('alarmaFields').style.display = 'none';
            }
        });

        // Verificar si hay un valor almacenado en LocalStorage para la variable "email"
        var email = localStorage.getItem('email');
        var name = localStorage.getItem('name');
        var tel = localStorage.getItem('tel');
        var address = localStorage.getItem('address');

        // Si hay un valor almacenado en LocalStorage para "email", rellenar el campo de entrada correspondiente
        if (email) {
            document.getElementById('mail').value = email;
        }
        if (name) {
            document.getElementById('name').value = name;
        }
        if (tel) {
            document.getElementById('tel').value = tel;
        }
        if (address) {
            document.getElementById('address').value = address;
        }

        document.getElementById('submitBtn').addEventListener('click', function (event) {
            // Evitar que el enlace realice la acción predeterminada (navegar a otra página)
            event.preventDefault();

            // almacenar los valores de los campos del formulario de nombre y telefono en local storage
            localStorage.setItem("name", document.getElementById('name').value);
            localStorage.setItem("tel", document.getElementById('tel').value);
            localStorage.setItem("address", document.getElementById('address').value);

            // Redirigir a la página contratarFormFinish.html con los valores de los campos como parámetros en la URL
            window.location.href = 'contratarFormFinishSeguroAlarma.html';
        });
    </script>
</body>

</html>
